(window.webpackJsonp=window.webpackJsonp||[]).push([[24,8],{532:function(e,t,r){var content=r(548);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(14).default)("a343e42c",content,!0,{sourceMap:!1})},547:function(e,t,r){"use strict";r(532)},548:function(e,t,r){var n=r(13)(!1);n.push([e.i,".home{text-transform:uppercase}",""]),e.exports=n},561:function(e,t,r){var content=r(607);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(14).default)("7b6f98f7",content,!0,{sourceMap:!1})},566:function(e,t,r){"use strict";r.r(t);var n=r(608),c=r(511),o=r(509),l=r(524),m=(r(8),r(7),r(10),r(11),r(3)),d=(r(6),r(36));function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function k(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(m.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h={name:"PickDisplay",props:{game:{},teamId:"",teamName:"",teamMascot:""},computed:k(k({},Object(d.c)("picks",["picks","updates"])),{},{isHome:function(){return this.game.homeTeamId===this.teamId},isPick:function(){var e=this;return function(t){return e.picks.filter((function(r){return r.teamId===t&&!e.getUpdatedPick(r.gameId)})).length||e.updates.filter((function(e){return e.teamId===t})).length}},isAutoPick:function(){var e=this;return function(t){return e.picks.filter((function(e){return e.autoPick&&e.gameId===t.id})).length?"info":"primary"}},pickIcon:function(){var e=this;return function(t){return t.started?e.picks.filter((function(e){return e.gameId===t.id&&e.autoPick})).length?"mdi-alpha-a-circle":"mdi-lock":"mdi-check-circle"}}}),methods:{spreadFavor:function(e){return("home"===e.spreadFavor?"-":"+")+e.spread},getUpdatedPick:function(e){var t=this.updates.filter((function(t){return t.gameId===e}));return t.length?t[0].teamId:null}}},v=(r(547),r(45)),component=Object(v.a)(h,(function(){var e=this,t=e._self._c;return t(l.a,{class:{bordered:e.isPick(e.teamId),home:e.isHome},attrs:{cols:"6"}},[!e.game.cancelled&&e.isPick(e.teamId)?[t(n.a,{attrs:{"offset-x":"-12","offset-y":"14",color:e.isAutoPick(e.game),icon:e.pickIcon(e.game)}},[t(c.a,{staticClass:"ma-0 pa-0",attrs:{flat:""}},[t(o.a,{staticClass:"ma-0 pa-0"},[e._v("\n          "+e._s(e.teamName)),t("br"),e._v(e._s(e.teamMascot)+"\n          "),e.isHome?[e._v(e._s(e.spreadFavor(e.game)))]:e._e()],2)],1)],1)]:[t(c.a,{staticClass:"ma-0 pa-0",attrs:{flat:""}},[t(o.a,{staticClass:"ma-0 pa-0"},[e._v("\n        "+e._s(e.teamName)),t("br"),e._v(e._s(e.teamMascot)+"\n        "),e.isHome?[e._v(e._s(e.spreadFavor(e.game)))]:e._e()],2)],1)]],2)}),[],!1,null,null,null);t.default=component.exports},567:function(e,t,r){"use strict";r.r(t);var n=r(511),c=r(524),o=r(527),l=r(523),m=(r(8),r(7),r(10),r(11),r(3)),d=(r(6),r(36));function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function k(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(m.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h={name:"PickEditor",props:{game:{},teamId:"",teamName:"",teamMascot:""},computed:k(k({},Object(d.c)("picks",["picks","updates"])),{},{isPick:function(){var e=this;return function(t){return e.picks.filter((function(r){return r.teamId===t&&!e.getUpdatedPick(r.gameId)})).length||e.updates.filter((function(e){return e.teamId===t})).length}},isHome:function(){return this.game.homeTeamId===this.teamId}}),data:function(){return{}},methods:k(k({},Object(d.b)("picks",["updatePick"])),{},{buttonColor:function(e){return this.isPick(e)?"primary":""},pick:function(e,t){this.updatePick({game:e,updatedPick:t})},getUpdatedPick:function(e){var t=this.updates.filter((function(t){return t.gameId===e}));return t.length?t[0].teamId:null},spreadFavor:function(e){return("home"===e.spreadFavor?"-":"+")+e.spread}})},v=r(45),component=Object(v.a)(h,(function(){var e=this,t=e._self._c;return t(n.a,{class:{home:e.isHome},attrs:{color:e.buttonColor(e.teamId),outlined:""},on:{click:function(t){return e.pick(e.game,e.teamId)}}},[t(o.a,[t(l.a,{attrs:{dense:""}},[t(c.a,{staticClass:"text-left pa-0 ma-0",attrs:{cols:"12"}},[e._v(e._s(e.teamName))]),e._v(" "),t(c.a,{staticClass:"text-left pa-0 ma-0",attrs:{cols:"12"}},[e._v(e._s(e.teamMascot)+"\n        "),e.isHome?[e._v(e._s(e.spreadFavor(e.game)))]:e._e()],2)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports},606:function(e,t,r){"use strict";r(561)},607:function(e,t,r){var n=r(13)(!1);n.push([e.i,".v-card__text{font-weight:700;font-size:1.1em}.status{border-top:1px dotted #fff;font-size:.8em}.helper{font-size:.7em}.pick-info{border:1px solid #39c0ed;margin-top:2px}.pick-success{border:1px solid #00b74a;margin-top:2px}.pick-warning{border:1px solid #ffa900;margin-top:2px}.pick-error{border:1px solid #f93154;margin-top:2px}",""]),e.exports=n},648:function(e,t,r){"use strict";r.r(t);var n=r(634),c=r(173),o=r(511),l=r(509),m=r(542),d=r(524),f=r(527),k=r(138),h=r(523),v=(r(27),r(8),r(7),r(10),r(11),r(15)),_=r(3),y=r(4),O=(r(6),r(40),r(28),r(36));function P(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(t){Object(_.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):P(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var w={name:"Picks",beforeRouteLeave:function(e,t,r){this.isDirty&&confirm("You have pick changes that you have not saved yet, would you like to save them?")&&this.save(),r()},layout:"singlePanel",data:function(){return{saving:!1}},fetch:function(){var e=this;return Object(y.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.listAllTeams();case 2:return t.next=4,e.getCurrentWeek();case 4:return t.next=6,e.listGamesForWeek();case 6:return t.next=8,e.listPicksForWeek(e.loggedInUser.id);case 8:case"end":return t.stop()}}),t)})))()},computed:j(j(j(j(j({},Object(O.c)(["currentGames","currentWeek"])),Object(O.c)("admin",["teams"])),Object(O.c)(["loggedInUser"])),Object(O.c)("picks",["picks","editing","updates"])),{},{isDirty:function(){return this.updates.length},wins:function(){return this.picks.filter((function(e){return e.win})).length},canMakePicks:function(){return this.currentGames.filter((function(e){return!e.started})).length}}),methods:j(j(j(j(j({},Object(O.b)("snackbar",["snack"])),Object(O.b)(["listGamesForWeek","getCurrentWeek"])),Object(O.b)("picks",["listPicksForWeek","makeChanges","resetPicks"])),Object(O.b)("admin",["listAllTeams"])),{},{changePicks:function(){this.makeChanges(!0)},cancel:function(){this.resetPicks(),this.makeChanges(!1)},save:function(){var e=this;return Object(y.a)(regeneratorRuntime.mark((function t(){var r,i,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.saving=!0,r=regeneratorRuntime.mark((function t(i){var r,n,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.updates[i],(n=e.picks.filter((function(e){return e.gameId===r.gameId}))).length&&(r.id=n[0].id),t.next=5,e.$savePick(j(j({},r),{},{userId:e.loggedInUser.id,weekId:e.currentWeek.id}));case 5:if(200===(c=t.sent).status||201===c.status){t.next=9;break}return e.errorSaving(),t.abrupt("return",{v:void 0});case 9:case"end":return t.stop()}}),t)})),i=0;case 3:if(!(i<e.updates.length)){t.next=11;break}return t.delegateYield(r(i),"t0",5);case 5:if(n=t.t0,"object"!==Object(v.a)(n)){t.next=8;break}return t.abrupt("return",n.v);case 8:i++,t.next=3;break;case 11:return t.next=13,e.listPicksForWeek(e.loggedInUser.id);case 13:if(!(e.picks.length<e.currentGames.length)){t.next=17;break}return e.snack({message:"Please make a pick for all games",color:"warning"}),e.saving=!1,t.abrupt("return");case 17:e.snack({message:"Picks saved."}),e.makeChanges(!1),e.saving=!1,e.resetPicks();case 21:case"end":return t.stop()}}),t)})))()},errorSaving:function(){this.snack({message:"There was an error saving picks, please try again",color:"error"})},getGame:function(e){return this.currentGames.filter((function(t){return t.id===e}))[0]},winning:function(e){if(e.cancelled)return"";var t=this.picks.filter((function(t){return t.gameId===e.id}));return t.length&&e.started&&!e.isFinal?t[0].winning?"pick-info":"pick-warning":t.length&&e.isFinal?t[0].win?"pick-success":"pick-error":""}})},x=(r(606),r(45)),component=Object(x.a)(w,(function(){var e=this,t=e._self._c;return t(f.a,{staticClass:"ma-0 pa-0"},[t(f.a,[t(f.a,[t(h.a,[t(d.a,{staticClass:"d-flex align-end",attrs:{cols:"7"}},[t(m.a,{staticClass:"mr-2 d-flex justify-center",attrs:{color:"success"}},[t("strong",[e._v(e._s(e.wins))])]),e._v(" "),t("h2",[e._v("\n            "+e._s(e.currentWeek.name)+"\n          ")])],1),e._v(" "),e.editing?t(d.a,{staticClass:"d-flex align-center justify-end",attrs:{cols:"5"}},[e._v("Changing picks...\n        ")]):t(d.a,{staticClass:"d-flex align-center justify-end",attrs:{cols:"5"}},[e.editing||e.$fetchState.pending||!e.canMakePicks?e._e():t(c.a,{attrs:{color:"primary",small:""},on:{click:function(t){return e.changePicks()}}},[e._v("Make changes")])],1)],1),e._v(" "),e.isDirty?t(h.a,[t(d.a,[t(n.a,{staticClass:"alert",attrs:{type:"info",dense:""}},[e._v("\n            You have pending changes\n          ")])],1)],1):e._e()],1),e._v(" "),e.$fetchState.pending?t(f.a,[t(h.a,[t(d.a,[e._v(" Loading games ... ")])],1)],1):e.currentGames.length?e._e():t(f.a,[t(h.a,[t(d.a,[t(n.a,{attrs:{type:"info",dense:""}},[e._v("There are currently no games defined for this week. Be on the\n            lookout for an email to notify you when games are up.")])],1)],1)],1),e._v(" "),t(f.a,{staticClass:"mt-0",attrs:{id:"games",fixed:""}},[e._l(e.currentGames,(function(r){return[t(h.a,{key:r.id,class:e.winning(r)},[!e.editing||r.started?[t(d.a,[t(h.a,{staticClass:"teams",attrs:{dense:""}},[t("pick-display",{attrs:{game:r,teamId:r.homeTeamId,teamName:r.homeTeamName,teamMascot:r.homeTeamMascot}}),e._v(" "),t("pick-display",{attrs:{game:r,teamId:r.awayTeamId,teamName:r.awayTeamName,teamMascot:r.awayTeamMascot}})],1),e._v(" "),t(h.a,{staticClass:"status",attrs:{dense:""}},[r.cancelled?t(d.a,[t(n.a,{attrs:{dense:"",color:"warning",icon:"mdi-alert-circle",outlined:"",text:""}},[e._v("Cancelled.")])],1):r.started?t(d.a,{attrs:{cols:"11"}},[t(k.a,[e._v("mdi-scoreboard-outline")]),e._v("   Home:\n                  "+e._s(r.homeScore?r.homeScore:0)+" - Away:\n                  "+e._s(r.awayScore?r.awayScore:0)+"\n                  "),r.isFinal?[e._v(" Final ")]:[e._v(" "+e._s(r.status))]],2):t(d.a,{attrs:{cols:"11"}},[t(k.a,[e._v("mdi-clock-time-four-outline")]),e._v("  \n                  "+e._s(e._f("formatDate")(r.start,"ddd MMM D @ h:mm A")))],1)],1)],1)]:e.editing?[t(l.a,{staticClass:"mt-2 mb-2 pa-0"},[r.started?t(h.a,{attrs:{dense:""}}):e._e(),e._v(" "),t(h.a,{attrs:{dense:""}},[t(d.a,{attrs:{cols:"6"}},[t("pick-editor",{attrs:{game:r,teamId:r.homeTeamId,teamName:r.homeTeamName,teamMascot:r.homeTeamMascot}})],1),e._v(" "),t(d.a,{attrs:{cols:"6"}},[t("pick-editor",{attrs:{game:r,teamId:r.awayTeamId,teamName:r.awayTeamName,teamMascot:r.awayTeamMascot}})],1)],1)],1)]:e._e()],2)]})),e._v(" "),t(h.a,[t(d.a,{staticClass:"helper pb-0 pt-0",attrs:{cols:"12"}},[e._v("Home team in caps")])],1)],2),e._v(" "),e.editing?t(o.a,{staticClass:"ma-0 pa-0"}):e._e(),e._v(" "),e.editing?t(h.a,[t(d.a,{staticClass:"text-right mt-3",attrs:{cols:"12"}},[t(c.a,{attrs:{disabled:e.saving,small:""},on:{click:e.cancel}},[e._v("Cancel")]),e._v(" "),t(c.a,{attrs:{color:"primary",disabled:e.saving,loading:e.saving,small:""},on:{click:e.save},scopedSlots:e._u([{key:"loader",fn:function(){return[t("span",{staticClass:"custom-loader"},[t(k.a,{attrs:{light:""}},[e._v("mdi-cached")])],1)]},proxy:!0}],null,!1,1919056595)},[e._v("Save\n          ")])],1)],1):e._e()],1)],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{PickDisplay:r(566).default,PickEditor:r(567).default})}}]);