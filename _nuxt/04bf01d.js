(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{558:function(e,t,r){var content=r(603);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(14).default)("7ffcede8",content,!0,{sourceMap:!1})},563:function(e,t,r){"use strict";r.r(t);var n=r(604),c=r(511),o=r(509),l=r(524),d=(r(8),r(7),r(10),r(11),r(3)),m=(r(6),r(36));function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(d.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var k={name:"PickGameDisplay",props:{game:{},teamId:"",teamName:"",teamMascot:"",isHome:!1,updates:[]},computed:v(v({},Object(m.c)(["picks"])),{},{isPick:function(){var e=this;return function(t){return e.picks.filter((function(r){return r.teamId===t&&!e.getUpdatedPick(r.gameId)})).length||e.updates.filter((function(e){return e.teamId===t})).length}},isAutoPick:function(){var e=this;return function(t){return e.picks.filter((function(e){return e.autoPick&&e.gameId===t.id})).length?"info":"primary"}},pickIcon:function(){var e=this;return function(t){return t.started?e.picks.filter((function(e){return e.gameId===t.id&&e.autoPick})).length?"mdi-alpha-a-circle":"mdi-lock":"mdi-check-circle"}}}),methods:{spreadFavor:function(e){return("home"===e.spreadFavor?"-":"+")+e.spread},getUpdatedPick:function(e){var t=this.updates.filter((function(t){return t.gameId===e}));return t.length?t[0].teamId:null}}},h=r(45),component=Object(h.a)(k,(function(){var e=this,t=e._self._c;return t(l.a,{staticClass:"home",class:{bordered:e.isPick(e.teamId)},attrs:{cols:"6"}},[!e.game.cancelled&&e.isPick(e.teamId)?[t(n.a,{attrs:{"offset-x":"-12","offset-y":"14",color:e.isAutoPick(e.game),icon:e.pickIcon(e.game)}},[t(c.a,{staticClass:"ma-0 pa-0",attrs:{flat:""}},[t(o.a,{staticClass:"ma-0 pa-0"},[e._v("\n          "+e._s(e.teamName)),t("br"),e._v(e._s(e.teamMascot)+"\n          "),e.isHome?[e._v(e._s(e.spreadFavor(e.game)))]:e._e()],2)],1)],1)]:[t(c.a,{staticClass:"ma-0 pa-0",attrs:{flat:""}},[t(o.a,{staticClass:"ma-0 pa-0"},[e._v("\n        "+e._s(e.teamName)),t("br"),e._v(e._s(e.teamMascot)+"\n        "),e.isHome?[e._v(e._s(e.spreadFavor(e.game)))]:e._e()],2)],1)]],2)}),[],!1,null,null,null);t.default=component.exports},602:function(e,t,r){"use strict";r(558)},603:function(e,t,r){var n=r(13)(!1);n.push([e.i,".v-card__text{font-weight:700;font-size:1.1em}.home{text-transform:uppercase}.status{border-top:1px dotted #fff;font-size:.8em}.helper{font-size:.7em}.pick-info{border:1px solid #39c0ed;margin-top:2px}.pick-success{border:1px solid #00b74a;margin-top:2px}.pick-warning{border:1px solid #ffa900;margin-top:2px}.pick-error{border:1px solid #f93154;margin-top:2px}",""]),e.exports=n},644:function(e,t,r){"use strict";r.r(t);var n=r(630),c=r(173),o=r(511),l=r(509),d=r(541),m=r(524),f=r(527),v=r(138),k=r(523),h=(r(27),r(8),r(7),r(10),r(11),r(15)),_=r(3),y=r(4),w=(r(6),r(40),r(28),r(36));function O(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(t){Object(_.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var x={name:"Picks",beforeRouteLeave:function(e,t,r){this.isDirty&&confirm("You have pick changes that you have not saved yet, would you like to save them?")&&this.save(),r()},layout:"singlePanel",data:function(){return{editing:!1,saving:!1,updates:[]}},fetch:function(){var e=this;return Object(y.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.listAllTeams();case 2:return t.next=4,e.getCurrentWeek();case 4:return t.next=6,e.listGamesForWeek();case 6:return t.next=8,e.listPicksForWeek(e.loggedInUser.id);case 8:case"end":return t.stop()}}),t)})))()},computed:j(j(j(j({},Object(w.c)(["currentGames","currentWeek","picks"])),Object(w.c)("admin",["teams"])),Object(w.c)(["loggedInUser"])),{},{isDirty:function(){return this.updates.length},wins:function(){return this.picks.filter((function(e){return e.win})).length},canMakePicks:function(){return this.currentGames.filter((function(e){return!e.started})).length}}),methods:j(j(j(j(j({},Object(w.b)("snackbar",["snack"])),Object(w.b)(["listGamesForWeek","getCurrentWeek"])),Object(w.b)("picks",["listPicksForWeek"])),Object(w.b)("admin",["listAllTeams"])),{},{buttonColor:function(e){return this.isPick(e)?"primary":""},pick:function(e,t){this.updates=this.updates.reduce((function(t,r){return r.gameId!==e.id&&t.push(r),t}),[]),this.updates.push({gameId:e.id,teamId:t})},cancel:function(){this.updates=[],this.editing=!1},save:function(){var e=this;return Object(y.a)(regeneratorRuntime.mark((function t(){var r,i,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.saving=!0,r=regeneratorRuntime.mark((function t(i){var r,n,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.updates[i],(n=e.picks.filter((function(e){return e.gameId===r.gameId}))).length&&(r.id=n[0].id),t.next=5,e.$savePick(j(j({},r),{},{userId:e.loggedInUser.id,weekId:e.currentWeek.id}));case 5:if(200===(c=t.sent).status||201===c.status){t.next=9;break}return e.errorSaving(),t.abrupt("return",{v:void 0});case 9:case"end":return t.stop()}}),t)})),i=0;case 3:if(!(i<e.updates.length)){t.next=11;break}return t.delegateYield(r(i),"t0",5);case 5:if(n=t.t0,"object"!==Object(h.a)(n)){t.next=8;break}return t.abrupt("return",n.v);case 8:i++,t.next=3;break;case 11:return t.next=13,e.listPicksForWeek(e.loggedInUser.id);case 13:if(!(e.picks.length<e.currentGames.filter((function(e){return!e.started})).length)){t.next=17;break}return e.snack({message:"Please make a pick for all games",color:"warning"}),e.saving=!1,t.abrupt("return");case 17:e.snack({message:"Picks saved."}),e.editing=!1,e.saving=!1,e.updates=[];case 21:case"end":return t.stop()}}),t)})))()},errorSaving:function(){this.snack({message:"There was an error saving picks, please try again",color:"error"})},getGame:function(e){return this.currentGames.filter((function(t){return t.id===e}))[0]},winning:function(e){if(e.cancelled)return"";var t=this.picks.filter((function(t){return t.gameId===e.id}));return t.length&&e.started&&!e.isFinal?t[0].winning?"pick-info":"pick-warning":t.length&&e.isFinal?t[0].win?"pick-success":"pick-error":""}})},P=(r(602),r(45)),component=Object(P.a)(x,(function(){var e=this,t=e._self._c;return t(f.a,{staticClass:"ma-0 pa-0"},[t(f.a,[t(k.a,[t(m.a,{staticClass:"d-flex align-end",attrs:{cols:"7"}},[t(d.a,{staticClass:"mr-2 d-flex justify-center",attrs:{color:"success"}},[t("strong",[e._v(e._s(e.wins))])]),e._v(" "),t("h2",[e._v("\n          "+e._s(e.currentWeek.name)+"\n        ")])],1),e._v(" "),e.editing?t(m.a,{staticClass:"d-flex align-center justify-end",attrs:{cols:"5"}},[e._v("Changing picks...\n      ")]):t(m.a,{staticClass:"d-flex align-center justify-end",attrs:{cols:"5"}},[e.editing||e.$fetchState.pending||!e.canMakePicks?e._e():t(c.a,{attrs:{color:"primary",small:""},on:{click:function(){e.editing=!0}}},[e._v("Make changes")])],1)],1),e._v(" "),e.isDirty?t(k.a,[t(m.a,[t(n.a,{staticClass:"alert",attrs:{type:"info",dense:""}},[e._v("\n          You have pending changes\n        ")])],1)],1):e._e()],1),e._v(" "),e.$fetchState.pending?t(f.a,[t(k.a,[t(m.a,[e._v(" Loading games ... ")])],1)],1):e.currentGames.length?e._e():t(f.a,[t(k.a,[t(m.a,[t(n.a,{attrs:{type:"info",dense:""}},[e._v("There are currently no games defined for this week. Be on the\n          lookout for an email to notify you when games are up.")])],1)],1)],1),e._v(" "),t(f.a,{staticClass:"mt-0",attrs:{id:"games",fixed:""}},[e._l(e.currentGames,(function(r){return[t(k.a,{key:r.id,class:e.winning(r)},[!e.editing||r.started?[t(m.a,[t(k.a,{staticClass:"teams",attrs:{dense:""}},[t("pick-game-display",{attrs:{game:r,teamId:r.homeTeamId,teamName:r.homeTeamName,teamMascot:r.homeTeamMascot,updates:e.updates,isHome:"true"}}),e._v(" "),t("pick-game-display",{attrs:{game:r,teamId:r.awayTeamId,teamName:r.awayTeamName,teamMascot:r.awayTeamMascot,updates:e.updates}})],1),e._v(" "),t(k.a,{staticClass:"status",attrs:{dense:""}},[r.cancelled?t(m.a,[t(n.a,{attrs:{dense:"",color:"warning",icon:"mdi-alert-circle",outlined:"",text:""}},[e._v("Cancelled.")])],1):r.started?t(m.a,{attrs:{cols:"11"}},[t(v.a,[e._v("mdi-scoreboard-outline")]),e._v("   Home:\n                "+e._s(r.homeScore?r.homeScore:0)+" - Away:\n                "+e._s(r.awayScore?r.awayScore:0)+"\n                "),r.isFinal?[e._v(" Final ")]:[e._v(" "+e._s(r.status))]],2):t(m.a,{attrs:{cols:"11"}},[t(v.a,[e._v("mdi-clock-time-four-outline")]),e._v("  \n                "+e._s(e._f("formatDate")(r.start,"ddd MMM D @ h:mm A")))],1)],1)],1)]:e.editing?[t(l.a,{staticClass:"mt-2 mb-2 pa-0"},[r.started?t(k.a,{attrs:{dense:""}}):e._e(),e._v(" "),t(k.a,{attrs:{dense:""}},[t(m.a,{attrs:{cols:"6"}},[t(o.a,{staticClass:"home",attrs:{color:e.buttonColor(r.homeTeamId),outlined:""},on:{click:function(t){return e.pick(r,r.homeTeamId)}}},[t(f.a,[t(k.a,{attrs:{dense:""}},[t(m.a,{staticClass:"text-left pa-0 ma-0",attrs:{cols:"12"}},[e._v(e._s(r.homeTeamName))]),e._v(" "),t(m.a,{staticClass:"text-left pa-0 ma-0",attrs:{cols:"12"}},[e._v(e._s(r.homeTeamMascot)+" "+e._s(e.spreadFavor(r))+"\n                      ")])],1)],1)],1)],1),e._v(" "),t(m.a,{attrs:{cols:"6"}},[t(o.a,{staticClass:"away",attrs:{color:e.buttonColor(r.awayTeamId),outlined:""},on:{click:function(t){return e.pick(r,r.awayTeamId)}}},[t(f.a,[t(k.a,{attrs:{dense:""}},[t(m.a,{staticClass:"text-left pa-0 ma-0",attrs:{cols:"12"}},[e._v(e._s(r.awayTeamName))]),e._v(" "),t(m.a,{staticClass:"text-left pa-0 ma-0",attrs:{cols:"12"}},[e._v(e._s(r.awayTeamMascot)+"\n                      ")])],1)],1)],1)],1)],1)],1)]:e._e()],2)]})),e._v(" "),t(k.a,[t(m.a,{staticClass:"helper pb-0 pt-0",attrs:{cols:"12"}},[e._v("Home team in caps")])],1)],2),e._v(" "),e.editing?t(o.a,{staticClass:"ma-0 pa-0"}):e._e(),e._v(" "),e.editing?t(k.a,[t(m.a,{staticClass:"text-right mt-3",attrs:{cols:"12"}},[t(c.a,{attrs:{disabled:e.saving,small:""},on:{click:e.cancel}},[e._v("Cancel")]),e._v(" "),t(c.a,{attrs:{color:"primary",disabled:e.saving,small:""},on:{click:e.save}},[e._v("Save")])],1)],1):e._e()],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{PickGameDisplay:r(563).default})}}]);